{"version":3,"sources":["images/wheater sync /^/.*/.png$","images/wheater/01d.png","images/wheater/01n.png","images/wheater/02d.png","images/wheater/02n.png","images/wheater/03d.png","images/wheater/03n.png","images/wheater/04d.png","images/wheater/04n.png","images/wheater/09d.png","images/wheater/09n.png","images/wheater/10d.png","images/wheater/10n.png","images/wheater/11d.png","images/wheater/11n.png","images/wheater/13d.png","images/wheater/13n.png","images/wheater/50d.png","images/wheater/50n.png","js/xhr.js","components/LocationLastCalc.js","components/LocationLocalTime.js","components/Location.js","components/NewLocation.js","components/AddLocation.js","components/Results.js","components/App.js","index.js"],"names":["map","./01d.png","./01n.png","./02d.png","./02n.png","./03d.png","./03n.png","./04d.png","./04n.png","./09d.png","./09n.png","./10d.png","./10n.png","./11d.png","./11n.png","./13d.png","./13n.png","./50d.png","./50n.png","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","get","url","Promise","reject","XMLHttpRequest","open","onload","status","response","statusText","onerror","send","LocationLastCalc","props","react_default","a","createElement","className","unix","date","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","concat","substr","convertToLocalTime","LocationLocalTime","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","lat","lon","_this2","timestamp","getTime","fetch","process","then","resp","json","data","setState","locationTimestamp","dstOffset","rawOffset","timestampTicker","setInterval","prevState","initClock","clearInterval","Component","Location","getCurrentWeather","city","weather","JSON","parse","isLoaded","imageCode","icon","temp","Math","round","main","lastCalc","dt","coord","error","handleReloadLocation","cityName","handleRemoveLocation","removeLocation","onClick","alt","src","require","components_LocationLocalTime","components_LocationLastCalc","NewLocation","handleFormSubmit","preventDefault","addLocation","hideNewLocation","handleValueChangeCityName","target","value","onSubmit","onChange","placeholder","type","AddLocation","showNewLocation","Results","handleShowNewLocation","handleHideNewLocation","components_NewLocation","locations","location","components_Location","key","name","components_AddLocation","App","handleAddLocation","_loop","newID","shortid","generate","ls","filter","length","set","toConsumableArray","loadLocations","components_Results","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.3e0f1dd8.chunk.js","sourcesContent":["var map = {\n\t\"./01d.png\": 19,\n\t\"./01n.png\": 20,\n\t\"./02d.png\": 21,\n\t\"./02n.png\": 22,\n\t\"./03d.png\": 23,\n\t\"./03n.png\": 24,\n\t\"./04d.png\": 25,\n\t\"./04n.png\": 26,\n\t\"./09d.png\": 27,\n\t\"./09n.png\": 28,\n\t\"./10d.png\": 29,\n\t\"./10n.png\": 30,\n\t\"./11d.png\": 31,\n\t\"./11n.png\": 32,\n\t\"./13d.png\": 33,\n\t\"./13n.png\": 34,\n\t\"./50d.png\": 35,\n\t\"./50n.png\": 36\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;","module.exports = __webpack_public_path__ + \"static/media/01d.9d00f145.png\";","module.exports = __webpack_public_path__ + \"static/media/01n.dd94790a.png\";","module.exports = __webpack_public_path__ + \"static/media/02d.37caf64b.png\";","module.exports = __webpack_public_path__ + \"static/media/02n.05980e3b.png\";","module.exports = __webpack_public_path__ + \"static/media/03d.22cb40af.png\";","module.exports = __webpack_public_path__ + \"static/media/03n.22cb40af.png\";","module.exports = __webpack_public_path__ + \"static/media/04d.919edcce.png\";","module.exports = __webpack_public_path__ + \"static/media/04n.919edcce.png\";","module.exports = __webpack_public_path__ + \"static/media/09d.dc97dd1a.png\";","module.exports = __webpack_public_path__ + \"static/media/09n.dc97dd1a.png\";","module.exports = __webpack_public_path__ + \"static/media/10d.0cc09103.png\";","module.exports = __webpack_public_path__ + \"static/media/10n.39b2af29.png\";","module.exports = __webpack_public_path__ + \"static/media/11d.df145b5b.png\";","module.exports = __webpack_public_path__ + \"static/media/11n.df145b5b.png\";","module.exports = __webpack_public_path__ + \"static/media/13d.4e9732ea.png\";","module.exports = __webpack_public_path__ + \"static/media/13n.4e9732ea.png\";","module.exports = __webpack_public_path__ + \"static/media/50d.b8857f98.png\";","module.exports = __webpack_public_path__ + \"static/media/50n.b8857f98.png\";","/**\r\n* Returns data from api/rest provided to the function.\r\n* The function handles (network) errors\r\n* To use this file in other js files use: import { get } from './xhr.js' & load file as type=\"module\"\r\n* @param {string} url The url of the api/rest you want to get data from.\r\n*/\r\nexport const get = url => {\r\n    // Return a new promise.\r\n    return new Promise(function(resolve, reject) {\r\n      // Create the XHR request\r\n      var req = new XMLHttpRequest();\r\n      req.open('GET', url);\r\n  \r\n      req.onload = function() {\r\n        // .onload Will always be called, even with 404 so check the status\r\n        if (req.status === 200) {\r\n          // Resolve the promise with the response text\r\n          resolve(req.response);\r\n        }\r\n        else {\r\n          // Otherwise reject with the status text\r\n          reject(Error(req.statusText));\r\n        }\r\n      };\r\n  \r\n      // Catch any network errors\r\n      req.onerror = function() {\r\n        reject(Error(\"Network Error\"));\r\n      };\r\n  \r\n      // Make the actual request\r\n      req.send();\r\n    });\r\n  }\r\n  ","import React from 'react';\r\n\r\nfunction LocationLastCalc(props){\r\n\r\n    /**\r\n     * Converts unix to readable timestamp\r\n     * @param {string} utc The unix value to be converted\r\n     */\r\n    const convertToLocalTime = (unix) =>{\r\n        const date = new Date(unix*1000);\r\n        const hours = date.getHours();\r\n        const minutes = \"0\" + date.getMinutes();\r\n        const seconds = \"0\" + date.getSeconds();\r\n        return `${hours}:${minutes.substr(-2)}:${seconds.substr(-2)}`;\r\n    }\r\n\r\n    return (\r\n        <div className=\"location__last-calc\">\r\n            <p>Last calculation: {convertToLocalTime(props.unix)}</p>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default LocationLastCalc;\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nclass LocationLocalTime extends Component {\r\n    constructor(props){\r\n        super();\r\n        this.state = {\r\n            lat: props.lat,\r\n            lon: props.lon\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Init the local time clock by getting the location's unix time\r\n     * and setting an interval\r\n     */\r\n    initClock(){\r\n        // Get unix\r\n        const timestamp = new Date().getTime()/1000;\r\n        fetch(`https://maps.googleapis.com/maps/api/timezone/json?location=${this.state.lat},${this.state.lon}&timestamp=${timestamp}&key=${process.env.REACT_APP_GOOGLE_TIMEZONE}`)\r\n        .then(resp => resp.json())        \r\n        .then(data => this.setState({locationTimestamp: timestamp + data.dstOffset + data.rawOffset}));\r\n        \r\n        this.timestampTicker = setInterval(() => {\r\n            this.setState((prevState) => {\r\n                return{\r\n                    locationTimestamp: prevState.locationTimestamp += 1\r\n                }\r\n            });\r\n        }, 1000);\r\n\r\n        \r\n    }\r\n\r\n    \r\n    /**\r\n     * Converts unix to readable timestamp\r\n     * @param {string} utc The unix value to be converted\r\n     */\r\n    convertToLocalTime = (unix) =>{\r\n        const date = new Date(unix*1000);\r\n        const hours = date.getHours() - 2;\r\n        const minutes = \"0\" + date.getMinutes();\r\n        const seconds = \"0\" + date.getSeconds();\r\n        return `${hours}:${minutes.substr(-2)}:${seconds.substr(-2)}`;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.initClock();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        clearInterval( this.timestampTicker);\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"location__local-time\">\r\n                <p>Local time: {this.convertToLocalTime(this.state.locationTimestamp)}</p>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default LocationLocalTime;","import React, { Component } from 'react';\r\nimport { get } from '../js/xhr';\r\nimport LocationLastCalc from './LocationLastCalc';\r\nimport LocationLocalTime from './LocationLocalTime';\r\n\r\nclass Location extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            imageCode: '01d'\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the current weather based on city name\r\n     * @param {string} city The name of the city to get the data from\r\n     */\r\n    getCurrentWeather = (city) =>{\r\n        get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&APPID=${process.env.REACT_APP_OPENWEATHER}&units=metric`)\r\n        .then((response) => {\r\n            const weather = JSON.parse(response);\r\n            this.setState({\r\n                isLoaded : true,\r\n                imageCode: weather.weather[0].icon,\r\n                temp: Math.round(weather.main.temp),\r\n                lastCalc: weather.dt,\r\n                lon: weather.coord.lon,\r\n                lat: weather.coord.lat\r\n            })\r\n          }, (error) => {\r\n            this.setState({\r\n                isLoaded : true,\r\n                error\r\n            })\r\n          })\r\n    }\r\n\r\n    handleReloadLocation = (e) =>{\r\n        this.getCurrentWeather(this.props.cityName);\r\n    }\r\n\r\n    handleRemoveLocation = () =>{\r\n        this.props.removeLocation(this.props.id);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getCurrentWeather(this.props.cityName);\r\n    }\r\n\r\n    render(){\r\n        //In case of loading\r\n        if (!this.state.isLoaded){\r\n            return(\r\n                <div className=\"location\">\r\n                    <i className=\"fas fa-times-circle remove-location\" alt=\"Remove location\"></i>\r\n                    <div className=\"location__container\">\r\n                        <div className=\"location__loading\">\r\n                            <i className=\"fas fa-spinner fa-spin\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n        //In case of error\r\n        else if (this.state.error) {\r\n            return(\r\n                <div className=\"location\">\r\n                    <i className=\"fas fa-times-circle remove-location\" onClick={this.handleRemoveLocation} alt=\"Remove location\"></i>\r\n                    <div className=\"location__container\">\r\n                        <div className=\"location__error\">\r\n                            <h2>{this.props.cityName}</h2>\r\n                            <p>Can not find current weather data</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        //In case of valid city\r\n        else if (!this.state.error){\r\n            return(\r\n                <div className=\"location\">\r\n                    <i className=\"fas fa-times-circle remove-location\" onClick={this.handleRemoveLocation} alt=\"Remove location\"></i>\r\n                    <i className=\"fas fa-sync-alt reload-location\" onClick={this.handleReloadLocation} alt=\"Reload location\"></i>\r\n                    <div className=\"location__container\">\r\n                        <div className=\"location__loaded\">\r\n                            <h2>{this.props.cityName}</h2>\r\n                            <div className=\"location__weather\">\r\n                                <div className=\"temp\">\r\n                                    <p>{this.state.temp}<span>°C</span></p>\r\n                                </div>\r\n                                <div className=\"icon\">\r\n                                    <img src={require(`../images/wheater/${this.state.imageCode}.png`)} alt=\"\" />\r\n                                </div>\r\n                            </div>\r\n                            <LocationLocalTime lat={this.state.lat} lon={this.state.lon} />\r\n                            <LocationLastCalc unix={this.state.lastCalc} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Location;","import React, { Component } from 'react';\r\n\r\nclass NewLocation extends Component {\r\n    state = {\r\n        cityName : ''\r\n    }\r\n\r\n    handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.addLocation(this.state.cityName);\r\n        this.props.hideNewLocation();\r\n    }\r\n\r\n    handleValueChangeCityName = (e) =>{\r\n        this.setState({cityName: e.target.value});\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"new-location\">\r\n                <i className=\"fas fa-times-circle remove-location\" alt=\"Remove location\" onClick={this.props.hideNewLocation}></i>\r\n                <div className=\"new-location__container\">\r\n                    <form onSubmit={this.handleFormSubmit}>\r\n                        <input onChange={this.handleValueChangeCityName} placeholder=\"Enter City Name\"></input>\r\n                        <button type=\"submit\">submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default NewLocation;","import React from 'react';\r\n\r\nconst AddLocation = (props) => {\r\n\r\n    return ( \r\n        <div className=\"addLocation\" onClick={props.showNewLocation}>\r\n            <i className=\"fas fa-plus-circle\"></i>\r\n        </div>\r\n    );\r\n    \r\n}\r\n \r\nexport default AddLocation;","import React, { Component } from 'react';\r\nimport Location from './Location';\r\nimport NewLocation from './NewLocation';\r\nimport AddLocation from './AddLocation';\r\n\r\nclass Results extends Component{\r\n    state = {\r\n        showNewLocation : false\r\n    }\r\n\r\n    handleShowNewLocation = () => {\r\n        this.setState({showNewLocation: true});\r\n    }\r\n\r\n    handleHideNewLocation = () => {\r\n        this.setState({showNewLocation: false});\r\n    }\r\n\r\n    render(){\r\n        let showNewLocation;\r\n        if(this.state.showNewLocation){\r\n            showNewLocation = <NewLocation hideNewLocation={this.handleHideNewLocation} addLocation={this.props.addLocation} />\r\n        }\r\n\r\n        return(\r\n            <div className=\"results\">\r\n                {this.props.locations.map((location) =>\r\n                    <Location \r\n                        key={location.id} \r\n                        id={location.id}\r\n                        cityName={location.name}\r\n                        removeLocation={this.props.removeLocation}\r\n                        />\r\n                )}\r\n                {showNewLocation}\r\n                <AddLocation  showNewLocation={this.handleShowNewLocation} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Results;","import React, { Component } from 'react';\nimport Results from './Results';\nimport ls from 'local-storage';\nimport shortid from 'shortid';\n\nclass App extends Component {\n\n  state = {\n    locations: []\n  }\n\n  /**\n   * Add a new location to the app by adding it to local storage\n   * @param {string} name Name of the location.\n   */\n  handleAddLocation = (name) =>{\n    while (true) {\n      let newID = shortid.generate();\n      if(ls.get('locations').filter(location => location.id === newID).length === 0){\n        ls.set('locations', [...ls.get('locations'), {name: name, id: newID}]);\n        this.setState({locations: ls.get('locations')});\n        break;\n      }\n    }\n  }\n\n  /**\n  * Removes location from state and local storage based on location id\n  * @param {number} id ID of the location to be removed\n  */\n  handleRemoveLocation = (id) =>{\n    ls.set('locations', ls.get('locations').filter(location => location.id !== id));\n\n    this.setState(prevState => {\n      return{\n        locations: prevState.locations.filter((location) => location.id !== id)\n      }\n    })\n  }\n\n  /**\n   * Get the locations from the user's local storage\n   */\n  loadLocations(){\n    if(ls.get('locations')){\n      this.setState({\n        locations: ls.get('locations')\n      })\n    }else{\n      ls.set('locations', []);\n    }\n  }\n\n  componentDidMount(){\n    this.loadLocations();\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"background-image\"></div>\n        <div className=\"container\">\n          <h1>Current weather in</h1>\n          <Results locations={this.state.locations} removeLocation={this.handleRemoveLocation} addLocation={this.handleAddLocation} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './css/index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}